{"version":3,"sources":["Role.js","knockout.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"manage-roles.js","sourcesContent":["function Role() {\r\n    this.name = ko.observable(\"\");\r\n    this.description = ko.observable(\"\");\r\n}\r\n\r\nRole.prototype.addRole = function(role) {\r\n    this.id = ko.observable(role.id);\r\n    this.name(role.name);\r\n    this.description(role.description);\r\n\r\n    return this;\r\n};","function ManageRolesViewModel() {\r\n    var self = this;\r\n\r\n    self.roles = ko.observableArray([]);\r\n    self.saving = ko.observable(false);\r\n\r\n    self.createRole = function() {\r\n        var role = new Role();\r\n        self.roles.push(role);\r\n    };\r\n\r\n    self.save = function() {\r\n        var self = this;\r\n        self.saving(true);\r\n        $.post(\r\n            \"role/roles\",\r\n            {data: ko.toJSON(self.roles)},\r\n            function(returnedData) {\r\n                self.saving(false);\r\n            }\r\n        );\r\n    };\r\n\r\n    $.getJSON(\"role/organisation-roles\", [], function(allData) {\r\n        if(allData['result'] == 0) {\r\n            self.roles($.map(allData.data, function(val, key) { var role = new Role(); return role.addRole(val)}));\r\n        }\r\n    });\r\n}\r\n\r\nvar manage_roles_view_model = new ManageRolesViewModel();\r\n\r\nko.applyBindings(manage_roles_view_model);"],"sourceRoot":"/source/"}